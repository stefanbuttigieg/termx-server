<databaseChangeLog
        xmlns="http://www.liquibase.org/xml/ns/dbchangelog"
        xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
        xsi:schemaLocation="http://www.liquibase.org/xml/ns/dbchangelog
		http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-3.5.xsd">

    <include file="changelog-terminology.xml" relativeToChangelogFile="true"/>
    <include file="01-code_system.sql" relativeToChangelogFile="true"/>
    <include file="02-code_system_entity.sql" relativeToChangelogFile="true"/>
    <include file="03-concept.sql" relativeToChangelogFile="true"/>
    <include file="04-designation.sql" relativeToChangelogFile="true"/>
    <include file="05-value_set.sql" relativeToChangelogFile="true"/>
    <include file="06-map_set.sql" relativeToChangelogFile="true"/>
    <include file="07-association.sql" relativeToChangelogFile="true"/>
    <include file="08-code_system_supplement.sql" relativeToChangelogFile="true"/>
    <include file="09-naming_system.sql" relativeToChangelogFile="true"/>
    <include file="10-measurement_unit.sql" relativeToChangelogFile="true"/>

    <include file="views/concept_closure.sql" relativeToChangelogFile="true"/>
    <include file="views/concept_name.sql" relativeToChangelogFile="true"/>
    <include file="views/concept_order.sql" relativeToChangelogFile="true"/>

    <changeSet dbms="PostgreSQL" id="functions" runOnChange="true" author="marina.ivnva@gmail.com">
        <sqlFile splitStatements="false" relativeToChangelogFile="true" path="functions/01-value_set_expand.sql" />
        <sqlFile splitStatements="false" relativeToChangelogFile="true" path="functions/02-rule_set_expand.sql" />
        <sqlFile splitStatements="false" relativeToChangelogFile="true" path="functions/11-code_system_closure.sql" />
        <sqlFile splitStatements="false" relativeToChangelogFile="true" path="functions/12-refresh_concept_closure.sql"/>

        <rollback>
            drop function if exists terminology.value_set_expand(bigint);
            drop function if exists terminology.rule_set_expand(jsonb);
            drop function if exists terminology.code_system_closure(text);
            drop function if exists terminology.refresh_concept_closure();
        </rollback>
    </changeSet>

    <include file="data/changelog-data.xml" relativeToChangelogFile="true"/>
</databaseChangeLog>
